<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Curso Interativo: Integra√ß√£o FiveM NUI com QBcore</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <!-- 
    Chosen Palette: "TechDrift" - A clean, modern palette with a light gray background, dark text for readability, and a cool blue accent for interactive elements, creating a focused and professional learning environment.
    Application Structure Plan: A two-column layout with a sticky sidebar for navigation and a main content area. This structure is ideal for educational content as it provides a persistent "map" of the course, allowing users to jump between sections without losing context. On mobile, the sidebar collapses into a "Table of Contents" button for a clean experience. The user flow is from top to bottom, guided by the sidebar navigation.
    Visualization & Content Choices: 
    - Report Info: Code examples (Lua, HTML, CSS, JS). Goal: Readability & Usability. Viz/Method: Styled HTML `<pre>` and `<code>` blocks that mimic a code editor's appearance, including a "Copy" button. Interaction: Click to copy. Justification: Drastically improves user experience over poorly formatted text.
    - Report Info: File structure diagram. Goal: Clarity. Viz/Method: Visual representation using nested HTML `<div>`s styled with Tailwind to look like a file tree. Interaction: None, purely visual. Justification: More intuitive and professional than a plain text list.
    - Report Info: Client/Server communication flow. Goal: Engagement & Understanding. Viz/Method: Interactive diagram built with HTML Flexbox and styled with Tailwind. Interaction: Hovering over elements reveals tooltips or highlights related text, explaining each step of the communication process. Justification: Turns a passive reading task into an active learning experience, reinforcing a core concept of the course.
    - Report Info: Code Explanation (LLM). Goal: Deeper Understanding. Viz/Method: Integrated button "Explicar C√≥digo ‚ú®" that fetches LLM explanation. Interaction: Click to get explanation, explanation appears below code block. Justification: Provides immediate, contextual help for complex code.
    - Report Info: Challenge Hints (LLM). Goal: Guided Learning. Viz/Method: Dropdown to select challenge and button "Obter Dica ‚ú®" that fetches LLM hint. Interaction: Select challenge, click button, hint appears. Justification: Encourages problem-solving with tailored assistance.
    - Report Info: Server Setup Steps. Goal: Step-by-step guidance. Viz/Method: Ordered list with detailed steps. Interaction: None, clear sequential information. Justification: Provides actionable instructions for environment setup.
    - Report Info: FiveM Event Types. Goal: Illustrate event directionality. Viz/Method: Simple text-based visual with arrows (Unicode). Interaction: None. Justification: Clearly distinguishes client-to-server, server-to-client, etc.
    CONFIRMATION: NO SVG graphics used. NO Mermaid JS used.
    -->
    <style>
        body { font-family: 'Inter', sans-serif; }
        code, .font-mono { font-family: 'Fira Code', monospace; }
        .sidebar-link.active {
            color: #3b82f6;
            font-weight: 600;
            border-left-color: #3b82f6;
        }
        .code-block {
            position: relative;
            background-color: #1f2937; /* Dark background for code */
            border-radius: 0.5rem; /* rounded-lg */
            padding: 1rem; /* p-4 */
            padding-top: 2rem; /* Adjusted for buttons */
            overflow-x: auto;
        }
        .code-block pre {
            margin: 0;
            padding: 0;
            color: #f3f4f6; /* Light text for code */
            font-size: 0.875rem; /* text-sm */
            line-height: 1.5;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <div class="flex flex-col md:flex-row">
        <!-- Mobile Header -->
        <header class="md:hidden sticky top-0 bg-white/80 backdrop-blur-sm z-20 border-b border-gray-200">
            <div class="container mx-auto px-4 py-3 flex justify-between items-center">
                <h1 class="text-lg font-bold text-blue-600">Curso FiveM NUI</h1>
                <button id="mobileMenuButton" class="p-2 rounded-md hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500">
                    <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" />
                    </svg>
                </button>
            </div>
        </header>

        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="hidden md:block fixed md:sticky top-0 h-screen w-64 bg-white border-r border-gray-200 overflow-y-auto shrink-0 z-10 p-6 transition-transform -translate-x-full md:translate-x-0">
            <h1 class="text-xl font-bold text-blue-600 mb-6">Curso FiveM NUI</h1>
            <nav id="desktop-nav" class="space-y-2">
                <!-- Navigation links will be injected by JS -->
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 md:p-10 lg:p-12">
            <div class="max-w-4xl mx-auto">
                
                <section id="s1" class="mb-16 scroll-mt-24">
                    <h2 class="text-3xl font-bold border-b border-gray-300 pb-2 mb-4">1. Introdu√ß√£o</h2>
                    <p class="text-lg text-gray-600 mb-6">Ol√°, futuro(a) desenvolvedor(a) de FiveM! Bem-vindo(a) ao seu guia pr√°tico para desvendar a arte de conectar o front-end (a parte que voc√™ v√™) com o back-end (a l√≥gica por tr√°s dos panos) no universo do FiveM, utilizando o poderoso framework QBcore e as interfaces web chamadas NUI. Este material foi feito sob medida para voc√™, que est√° dando os primeiros passos e quer aprender de forma clara, did√°tica e divertida!</p>
                    
                    <article id="s1_1" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">1.1 Objetivos do Curso</h3>
                        <p class="mb-4">Ao final deste curso, voc√™ n√£o apenas entender√° os conceitos, mas ter√° as m√£os na massa e as habilidades para:</p>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li><strong>Entender a Conversa:</strong> Compreender como o lado vis√≠vel (sua interface web `NUI`) e o lado da l√≥gica (seus scripts `Lua`) "conversam" entre si no FiveM.</li>
                            <li><strong>Organizar seus Projetos:</strong> Aprender a organizar seus arquivos e recursos de forma simples e eficaz, preparando o terreno para scripts futuros.</li>
                            <li><strong>Criar Coisas que Funcionam:</strong> Desenvolver seus primeiros scripts que se comunicam em tempo real, fazendo a m√°gica acontecer entre o que o jogador v√™ e o que o servidor processa.</li>
                            <li><strong>Montar Telas Bonitas:</strong> Usar `HTML`, `CSS` e `JavaScript` para criar interfaces de usu√°rio intuitivas e com um visual que voc√™ mesmo(a) vai gostar!</li>
                            <li><strong>Aprender Boas Maneiras de Programar:</strong> Pegar algumas dicas essenciais para escrever c√≥digos limpos, seguros e que funcionam sem dor de cabe√ßa.</li>
                        </ul>
                    </article>

                    <article id="s1_2" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">1.2 P√∫blico-Alvo</h3>
                        <p class="mb-2">Este curso foi carinhosamente preparado para:</p>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                           <li><strong>Iniciantes na Programa√ß√£o:</strong> Se voc√™ est√° come√ßando a programar ou tem apenas uma no√ß√£o b√°sica (tipo, sabe o que √© uma vari√°vel ou um `if`), este √© o seu lugar!</li>
                           <li><strong>Curiosos do FiveM:</strong> Se voc√™ joga FiveM e sempre se perguntou como as coisas funcionam por tr√°s dos menus e sistemas, prepare-se para descobrir!</li>
                           <li><strong>Quem Conhece um Pouco de Web:</strong> Se voc√™ j√° brincou com `HTML`, `CSS` e `JavaScript`, vai se sentir em casa. Se n√£o brincou, n√£o se preocupe, vamos explicar o essencial!</li>
                           <li><strong>Aprendizes Pr√°ticos:</strong> Se voc√™ aprende fazendo, vai amar os exemplos diretos e os desafios para colocar a m√£o na massa.</li>
                        </ul>
                    </article>

                    <article id="s1_3" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">1.3 Ferramentas Necess√°rias</h3>
                        <p class="mb-4">Para embarcar nessa jornada, voc√™ precisar√° de algumas ferramentas. √â como montar a sua bancada de trabalho de desenvolvedor!</p>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                           <li><strong>FXServer:</strong> Pense nele como o "cora√ß√£o" do seu servidor FiveM. √â onde o jogo roda. Voc√™ vai precisar de um funcionando para testar seus scripts. N√£o se preocupe, vamos te ajudar a configurar!</li>
                           <li><strong>Editor de C√≥digo:</strong> √â o seu "caderno" e "caneta" superpoderosos para escrever c√≥digo. Eu super recomendo o `VSCode` (Visual Studio Code). Ele √© gratuito, leve e tem muitos recursos que facilitam a vida, como cores para o c√≥digo (destaque de sintaxe) e sugest√µes autom√°ticas.</li>
                           <li><strong>Navegador Web:</strong> Voc√™ j√° usa um! `Chrome`, `Firefox` ou `Edge`. Eles ser√£o importantes para ver e "consertar" (depurar) a parte visual da sua interface `NUI`.</li>
                           <li><strong>QBcore Framework:</strong> √â um "kit de ferramentas" super popular para criar servidores de Roleplay no FiveM. Ele j√° vem com um monte de coisas prontas (invent√°rio, dinheiro, etc.), o que nos ajuda a focar na integra√ß√£o.</li>
                        </ul>
                    </article>
                </section>

                <section id="s2" class="mb-16 scroll-mt-24">
                    <h2 class="text-3xl font-bold border-b border-gray-300 pb-2 mb-4">2. Conceitos B√°sicos: O Alicerce do seu Conhecimento</h2>
                    <p class="text-lg text-gray-600 mb-6">Antes de mergulhar no c√≥digo, vamos entender alguns pilares importantes. Imagine que estamos construindo uma casa: precisamos saber onde colocar o alicerce e quais materiais usar. Aqui, o alicerce s√£o os recursos, a `NUI` e a forma como tudo se comunica!</p>

                    <article id="s2_1" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">2.1 Estrutura de Recursos no FiveM: Organizando suas Ideias</h3>
                        <p class="mb-4">No FiveM, tudo o que adiciona uma funcionalidade ao seu servidor √© chamado de **Recurso** (ou "`Resource`" em ingl√™s). Pense em um recurso como um "m√≥dulo" ou uma "pasta organizada" que cont√©m todos os arquivos necess√°rios para uma fun√ß√£o espec√≠fica. Por exemplo, voc√™ pode ter um recurso para o sistema de invent√°rio, outro para uma loja de carros, e o nosso ser√° para a integra√ß√£o `NUI`!</p>
                        <p class="mb-4">Cada recurso vive em sua pr√≥pria pasta, que fica dentro da pasta `resources` do seu `FXServer`. √â como ter gavetas separadas para cada tipo de ferramenta na sua caixa.</p>
                        <p class="mb-4">O grande chefe de cada recurso √© um arquivo chamado **`fxmanifest.lua`**. Esse √© o "cart√£o de visitas" do seu recurso. Ele diz ao FiveM:</p>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Qual √© o nome do seu recurso.</li>
                            <li>Quem o criou.</li>
                            <li>E, o mais importante, **quais arquivos ele precisa carregar** para funcionar, e se esses arquivos s√£o para o lado do jogador (`cliente`) ou para o lado do `servidor`.</li>
                        </ul>
                        <p>Sem um `fxmanifest.lua` bem feito, seu recurso simplesmente n√£o vai funcionar! √â como tentar usar uma ferramenta sem saber o manual de instru√ß√µes.</p>
                    </article>

                    <article id="s2_2" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">2.2 O que √© NUI? A Interface que o Jogador V√™!</h3>
                        <p class="mb-4">`NUI` (**Native UI**) √© um recurso super bacana do FiveM que nos permite criar telas e menus personalizados no jogo usando o que j√° conhecemos do desenvolvimento web: `HTML`, `CSS` e `JavaScript`! Sim, √© isso mesmo! Aquelas tecnologias que voc√™ usa para fazer sites, agora no FiveM!</p>
                        <p class="mb-4">Imagine que o FiveM tem um "mini-navegador" escondido dentro dele. A `NUI` usa esse mini-navegador para mostrar suas p√°ginas `HTML`. Isso significa que voc√™ pode criar:</p>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li>Menus bonitos para lojas, bancos, empregos.</li>
                            <li>Telas de `HUD` (aqueles indicadores de vida, colete, etc.) totalmente personalizadas.</li>
                            <li>Sistemas de notifica√ß√£o (aqueles avisinhos que aparecem na tela).</li>
                            <li>E muito mais, com total liberdade de design!</li>
                        </ul>
                        <p class="mb-4">A grande vantagem da `NUI` √© que se voc√™ j√° tem um pouquinho de `HTML`, `CSS` e `JavaScript`, voc√™ j√° est√° no caminho certo para criar coisas visuais incr√≠veis no FiveM, sem ter que aprender uma linguagem de interface totalmente nova.</p>
                    </article>

                    <article id="s2_3" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">2.3 A Grande Conversa: Client ‚Üî Server ‚Üî NUI</h3>
                        <p class="mb-4">A m√°gica acontece quando as diferentes partes do seu script "conversam". No FiveM, temos tr√™s "personagens" principais que trocam mensagens:</p>
                        <ul class="list-disc list-inside space-y-2 text-gray-700">
                            <li><strong>Cliente (`Client`):</strong> √â o que roda no computador de cada jogador. Ele cuida do que o jogador v√™ e faz individualmente.</li>
                            <li><strong>Servidor (`Server`):</strong> √â o que roda no computador principal do jogo. Ele cuida da l√≥gica geral, do banco de dados e de tudo o que afeta *todos* os jogadores ou que precisa ser seguro.</li>
                            <li><strong>NUI (`HTML`/`JS`):</strong> √â a sua interface web que o jogador v√™ na tela.</li>
                        </ul>
                        <p class="mb-4">A comunica√ß√£o entre `Cliente` e `Servidor` √© feita atrav√©s de **Eventos**. E a comunica√ß√£o entre `Cliente` e `NUI` √© feita de um jeito especial. Entenda o fluxo principal abaixo e passe o mouse para ver os detalhes:</p>
                        
                        <h4 class="text-xl font-semibold mb-2 mt-4">Tipos de Eventos Principais:</h4>
                        <div class="mb-4 p-4 bg-gray-100 rounded-lg text-gray-700">
                            <p class="font-bold mb-2">Cliente ‚û° Servidor (`Client-to-Server`):</p>
                            <p class="mb-2">Um jogador faz algo (ex: compra um item), e o script do cliente precisa avisar o servidor sobre isso. O servidor ent√£o processa a compra de forma segura.</p>
                            <p class="font-mono text-blue-600">No script do Cliente (`Lua`): `TriggerServerEvent('nomeDoEventoNoServidor', dados)`</p>
                            <p class="font-mono text-green-600">No script do Servidor (`Lua`): Primeiro, registre o evento: `RegisterNetEvent('nomeDoEventoNoServidor')`</p>
                            <p class="font-mono text-green-600">No script do Servidor (`Lua`): Depois, escute-o: `AddEventHandler('nomeDoEventoNoServidor', function(dados) ... end)`</p>
                        </div>
                        <div class="mb-4 p-4 bg-gray-100 rounded-lg text-gray-700">
                            <p class="font-bold mb-2">Servidor ‚û° Cliente (`Server-to-Client`):</p>
                            <p class="mb-2">O servidor precisa avisar um ou mais jogadores sobre algo (ex: "Voc√™ recebeu um item!", "Evento come√ßou!").</p>
                            <p class="font-mono text-green-600">No script do Servidor (`Lua`): `TriggerClientEvent('nomeDoEventoNoCliente', idDoJogador, dados)`</p>
                            <p class="font-mono text-blue-600">No script do Cliente (`Lua`): Primeiro, registre o evento: `RegisterNetEvent('nomeDoEventoNoCliente')`</p>
                            <p class="font-mono text-blue-600">No script do Cliente (`Lua`): Depois, escute-o: `AddEventHandler('nomeDoEventoNoCliente', function(dados) ... end)`</p>
                        </div>
                        <div class="mb-4 p-4 bg-gray-100 rounded-lg text-gray-700">
                            <p class="font-bold mb-2">Cliente ‚Üî NUI (`Client` ‚Üî Interface Web):</p>
                            <p class="mb-2">Essa √© a "ponte" entre o seu c√≥digo `Lua` no computador do jogador e a telinha `HTML`/`CSS`/`JS` que ele v√™. A `NUI` pode mostrar informa√ß√µes do jogo e tamb√©m enviar cliques e dados para o `Lua` processar.</p>
                            <div class="p-4 bg-gray-100 rounded-lg">
                                <div class="flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0 sm:space-x-4">
                                    <div class="flow-item text-center p-3 bg-blue-100 rounded-lg w-full sm:w-auto" data-info="O script Lua no lado do jogador (client.lua) precisa mostrar ou atualizar algo na tela da NUI.">
                                        <span class="font-bold">LUA (Client)</span>
                                    </div>
                                    <div class="flex flex-col items-center">
                                        <span class="flow-arrow text-blue-500 font-mono text-sm" data-info="Usa a fun√ß√£o SendNUIMessage({ 'a√ß√£o': 'mostrar', 'dados': 'info' }) para enviar uma mensagem para o JavaScript da NUI.">‚Üí SendNUIMessage ‚Üí</span>
                                        <span class="flow-arrow text-green-500 font-mono text-sm" data-info="O JavaScript da NUI (script.js) usa fetch() para enviar dados para um 'callback' registrado no client.lua.">‚Üê Callback (fetch) ‚Üê</span>
                                    </div>
                                    <div class="flow-item text-center p-3 bg-green-100 rounded-lg w-full sm:w-auto" data-info="A interface web (HTML/CSS/JS) recebe a mensagem do Lua e pode tamb√©m enviar dados de volta.">
                                        <span class="font-bold">NUI (HTML/JS)</span>
                                    </div>
                                </div>
                                <div id="flow-info-box" class="mt-4 p-3 bg-white rounded text-center text-sm text-gray-600 min-h-[40px] flex items-center justify-center">Passe o mouse sobre um elemento do fluxo para saber mais!</div>
                            </div>
                            <p class="text-sm mt-2">Ex: `NUI` exibe o dinheiro do jogador (`Lua` para `JS`). O jogador clica em um bot√£o na `NUI` (`JS` para `Lua`).</p>
                        </div>
                        <p class="mb-4">Entender essas "conversas" √© o segredo para criar scripts din√¢micos e que funcionam bem em seu servidor FiveM!</p>
                    </article>
                </section>

                <section id="s3" class="mb-16 scroll-mt-24">
                    <h2 class="text-3xl font-bold border-b border-gray-300 pb-2 mb-4">3. Preparando o Ambiente: Sua Bancada de Trabalho</h2>
                    <p class="text-lg text-gray-600 mb-6">Para come√ßar a desenvolver, precisamos montar seu ambiente de trabalho. √â como organizar sua mesa antes de come√ßar um grande projeto! Vamos instalar o `FXServer`, configurar o `QBcore` e criar a estrutura de pastas do seu primeiro recurso `NUI`.</p>
                     
                    <article id="s3_1" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">3.1 Instala√ß√£o do FXServer: O Cora√ß√£o do seu Servidor</h3>
                        <p class="mb-4">O `FXServer` √© o programa que faz o seu servidor FiveM funcionar. Siga estes passos simples para ter o seu no ar:</p>
                        <ol class="list-decimal list-inside space-y-3 text-gray-700">
                            <li><strong>Baixe os Arquivos do FiveM:</strong> V√° ao site oficial de arquivos do FiveM: <a href="https://artifacts.fivem.net/" target="_blank" class="text-blue-600 hover:underline">https://artifacts.fivem.net/</a>. Baixe a vers√£o mais nova (geralmente a mais est√°vel) para o seu computador (`Windows` ou `Linux`).</li>
                            <li><strong>Crie uma Pasta:</strong> Crie uma pasta vazia em um lugar que voc√™ vai lembrar, tipo `C:\MeuServidorFiveM` (no `Windows`) ou `~/meuserver/` (no `Linux`). Essa pasta ser√° o lar do seu servidor.</li>
                            <li><strong>Coloque os Arquivos L√°:</strong> Descompacte o arquivo `ZIP` que voc√™ baixou (os "artefatos") direto dentro dessa nova pasta que voc√™ criou. Voc√™ vai ver um arquivo como `FXServer.exe` l√°.</li>
                            <li><strong>Pegue sua Chave Secreta (`License Key`):</strong> V√° no site `Keymaster` do FiveM: <a href="https://keymaster.fivem.net/" target="_blank" class="text-blue-600 hover:underline">https://keymaster.fivem.net/</a>. Fa√ßa login com sua conta do FiveM e clique para gerar uma nova chave. **Essa chave √© super importante para seu servidor funcionar!** Copie ela, vamos usar no pr√≥ximo passo.</li>
                            <li><strong>Crie o Arquivo de Configura√ß√£o (`server.cfg`):</strong> Dentro da pasta do seu servidor (onde est√° o `FXServer.exe`), crie um novo arquivo de texto e salve-o com o nome exato: `server.cfg`. √â aqui que voc√™ vai dizer ao servidor o que ele deve fazer.</li>
                            <li><strong>Preencha o `server.cfg` B√°sico:</strong> Copie e cole o c√≥digo abaixo no seu arquivo `server.cfg`. **N√£o se esque√ßa de trocar `"sua_chave_aqui"` pela chave que voc√™ copiou do `Keymaster`!**
<div class="code-block mt-4">
    <pre><code class="language-lua">-- Define as portas que o servidor vai usar para se comunicar
endpoint_add_tcp "0.0.0.0:30120"
endpoint_add_udp "0.0.0.0:30120"

-- Limite m√°ximo de jogadores no seu servidor
sv_maxclients 48

-- Uma 'tag' para seu servidor, que pode ser vista por outros (opcional)
sets tags "curso, fivem, iniciante"

-- Garante que scripts de 'trapa√ßa' n√£o rodem no seu servidor (mantenha como 0)
sv_scriptHookAllowed 0

-- MUITO IMPORTANTE: Coloque sua chave de licen√ßa FiveM aqui!
sv_licenseKey "sua_chave_aqui"

-- Garante que alguns recursos b√°sicos do FiveM rodem (essenciais)
ensure mapmanager -- Gerencia o mapa
ensure chat      -- Habilita o chat
ensure spawnmanager -- Gerencia onde os jogadores nascem
-- Estes s√£o os recursos M√çNIMOS para come√ßar.
</code></pre>
                            <div class="explanation-area mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-gray-700 hidden">
                                <p class="font-semibold mb-2">Explica√ß√£o da API Gemini:</p>
                                <div class="explanation-content"></div>
                                <div class="loading-spinner text-center mt-2 hidden">
                                    <div class="animate-spin inline-block w-4 h-4 border-2 border-current border-t-transparent text-blue-600 rounded-full" role="status"></div>
                                    <span class="ml-2">Carregando explica√ß√£o...</span>
                                </div>
                            </div>
</div>
                                <p class="mt-2 text-sm">
                                    <strong>Explica√ß√£o linha a linha do `server.cfg`:</strong><br>
                                    <ul class="list-disc list-inside ml-4">
                                        <li>`endpoint_add_tcp "0.0.0.0:30120"`: Diz ao servidor para abrir a porta `30120` para conex√µes `TCP`. √â a porta padr√£o para jogos.</li>
                                        <li>`endpoint_add_udp "0.0.0.0:30120"`: Faz o mesmo, mas para conex√µes `UDP`, tamb√©m comum em jogos.</li>
                                        <li>`sv_maxclients 48`: Define que seu servidor pode ter no m√°ximo 48 jogadores ao mesmo tempo. Voc√™ pode mudar esse n√∫mero.</li>
                                        <li>`sets tags "curso, fivem, iniciante"`: Adiciona "etiquetas" ao seu servidor. Se voc√™ publicar, elas ajudam as pessoas a encontr√°-lo.</li>
                                        <li>`sv_scriptHookAllowed 0`: Garante que scripts externos n√£o autorizados (muitas vezes usados para trapa√ßas) n√£o possam ser carregados. Mantenha isso como `0`.</li>
                                        <li>`sv_licenseKey "sua_chave_aqui"`: **Aqui vai a sua chave de licen√ßa √∫nica.** Sem ela, o servidor n√£o inicia!</li>
                                        <li>`ensure mapmanager`, `ensure chat`, `ensure spawnmanager`: Esses comandos dizem ao servidor para "`ensure`" (garantir) que esses recursos b√°sicos do FiveM sejam carregados. Eles s√£o essenciais para um jogo funcional.</li>
                                    </ul>
                                </p>
                            </li>
                            <li><strong>Ligue o FXServer:</strong>
                                <ul class="list-disc list-inside mt-2 text-gray-700 text-sm">
                                    <li><strong>No Windows:</strong> Abra o "Prompt de Comando" (`CMD`) ou `PowerShell`. Use o comando `cd` para ir at√© a pasta do seu servidor (ex: `cd C:\MeuServidorFiveM`). Depois, digite `FXServer.exe` e aperte `Enter`.</li>
                                    <li><strong>No Linux:</strong> Abra um terminal. Navegue at√© a pasta do seu servidor (ex: `cd ~/meuserver/`). Depois, digite `./run.sh` e aperte `Enter`.</li>
                                </ul>
                                <p class="mt-2">Se tudo deu certo, voc√™ vai ver um monte de texto no console do servidor. Isso significa que ele est√° online e pronto para receber jogadores! Deixe essa janela aberta enquanto estiver desenvolvendo.</p>
                            </li>
                        </ol>
                    </article>

                    <article id="s3_2" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">3.2 Configura√ß√£o do QBcore: Seu Kit de Ferramentas Extra</h3>
                        <p class="mb-4">O `QBcore` √© um "kit de ferramentas" (`framework`) que j√° vem com v√°rios sistemas prontos para servidores de Roleplay. Us√°-lo nos poupa muito tempo e nos permite focar na integra√ß√£o `NUI`. Veja como adicion√°-lo ao seu servidor:</p>
                        <ol class="list-decimal list-inside space-y-3 text-gray-700">
                            <li><strong>Baixe o QBcore:</strong> O `QBcore` n√£o √© um arquivo s√≥, mas um conjunto de v√°rios recursos. Voc√™ pode encontrar o site oficial ou o reposit√≥rio no `GitHub` procurando por "`qb-core framework FiveM`". Baixe os arquivos (geralmente em `ZIP`) do `qb-core` principal e dos recursos b√°sicos dele (tipo `qb-spawn`, `qb-inventory`).</li>
                            <li><strong>Organize na Pasta `resources`:</strong> Dentro da pasta `resources` do seu `FXServer`, √© uma √≥tima ideia criar uma subpasta para frameworks, como `[qb]`. Descompacte todos os recursos do `QBcore` que voc√™ baixou dentro dessa nova pasta.
                                <p class="font-mono bg-gray-100 p-2 rounded-md mt-2 text-sm">
                                    FXServer/<br>
                                    ‚îî‚îÄ‚îÄ resources/<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;‚îî‚îÄ‚îÄ [qb]/<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ qb-core/<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚îú‚îÄ‚îÄ qb-inventory/<br>
                                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;‚îî‚îÄ‚îÄ ... (outros recursos do `QBcore` aqui)
                                </p>
                            </li>
                            <li><strong>Diga ao `server.cfg` para Ligar o QBcore:</strong> Agora, precisamos avisar ao seu servidor para carregar esses novos recursos. Abra seu arquivo `server.cfg` novamente e adicione as linhas `ensure` para cada recurso do `QBcore`. **A ordem √© importante:** o `qb-core` deve ser carregado antes de outros recursos que dependem dele.
<div class="code-block mt-4">
    <pre><code class="language-lua">-- Continua√ß√£o do seu server.cfg

-- Recursos b√°sicos (j√° vimos antes)
ensure mapmanager
ensure chat
ensure spawnmanager
-- ... (e outros que voc√™ j√° tem)

-- Agora, os recursos do QBcore!
ensure qb-core       -- O cora√ß√£o do framework
ensure qb-spawn      -- Gerencia o ponto de nascimento
ensure qb-inventory  -- O sistema de invent√°rio
ensure qb-clothes    -- Sistema de roupas
-- Adicione todos os outros recursos do QBcore que voc√™ baixou aqui.

-- Seu pr√≥prio recurso vir√° depois (se√ß√£o 4)
-- ensure meu_recurso 
</code></pre>
                            <div class="explanation-area mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-gray-700 hidden">
                                <p class="font-semibold mb-2">Explica√ß√£o da API Gemini:</p>
                                <div class="explanation-content"></div>
                                <div class="loading-spinner text-center mt-2 hidden">
                                    <div class="animate-spin inline-block w-4 h-4 border-2 border-current border-t-transparent text-blue-600 rounded-full" role="status"></div>
                                    <span class="ml-2">Carregando explica√ß√£o...</span>
                                </div>
                            </div>
</div>
                                <p class="mt-2 text-sm">
                                    <strong>Explica√ß√£o das linhas `ensure qb-...`:</strong><br>
                                    <ul class="list-disc list-inside ml-4">
                                        <li>Cada linha `ensure` diz ao servidor para carregar um recurso.</li>
                                        <li>`qb-core` √© o principal; `qb-spawn`, `qb-inventory`, etc., s√£o m√≥dulos que adicionam funcionalidades espec√≠ficas ao `QBcore`.</li>
                                        <li>A ordem importa! Pense como um lego: voc√™ precisa da base antes de colocar as pe√ßas em cima.</li>
                                    </ul>
                                </p>
                            </li>
                            <li><strong>Inicie ou Reinicie seu Servidor:</strong> Salve o `server.cfg` e reinicie seu `FXServer`. Se tudo estiver certo, voc√™ ver√° mensagens no console sobre o `QBcore` sendo carregado. Prontinho, seu servidor est√° turbinado com o `QBcore`!</li>
                        </ol>
                        <p class="mt-4">Agora seu ambiente est√° pronto! O `FXServer` est√° online e o `QBcore` est√° instalado para nos ajudar a criar coisas incr√≠veis.</p>
                    </article>

                    <article id="s3_3" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">3.3 Estrutura de Pastas e Arquivos do Seu Recurso NUI: Mantenha a Casa Arrumada!</h3>
                        <p class="mb-4">Uma boa organiza√ß√£o √© como ter gavetas etiquetadas: voc√™ sempre sabe onde encontrar o que precisa! Para um recurso que usa `NUI` (nossa interface web), a estrutura de pastas √© bem espec√≠fica. Veja como ela deve ser:</p>
                        <div class="bg-gray-800 text-white p-4 rounded-lg font-mono text-sm">
                            <div class="flex items-center">
                                <span class="mr-2">üìÅ</span><span>meu_primeiro_recurso/</span>
                            </div>
                            <div class="pl-6 border-l-2 border-gray-700 ml-2">
                                <div class="flex items-center mt-2">
                                    <span class="mr-2">üìÑ</span><span class="text-yellow-400">fxmanifest.lua</span> <span class="text-gray-400">// O "manual de instru√ß√µes" do seu recurso</span>
                                </div>
                                <div class="flex items-center mt-2">
                                    <span class="mr-2">üìÑ</span><span class="text-blue-400">client.lua</span> <span class="text-gray-400">// O que roda no computador de CADA jogador</span>
                                </div>
                                <div class="flex items-center mt-2">
                                    <span class="mr-2">üìÑ</span><span class="text-green-400">server.lua</span> <span class="text-gray-400">// O que roda SOMENTE no computador do servidor</span>
                                </div>
                                <div class="flex items-center mt-2">
                                    <span class="mr-2">üìÅ</span><span>html/</span> <span class="text-gray-400">// Sua "miniatura de site" aqui dentro!</span>
                                </div>
                                <div class="pl-6 border-l-2 border-gray-700 ml-2">
                                    <div class="flex items-center mt-2">
                                        <span class="mr-2">üìÑ</span><span class="text-red-400">index.html</span> <span class="text-gray-400">// A estrutura (esqueleto) da sua tela NUI</span>
                                    </div>
                                    <div class="flex items-center mt-2">
                                        <span class="mr-2">üìÑ</span><span class="text-purple-400">style.css</span> <span class="text-gray-400">// A "roupa" (estilo) da sua tela NUI</span>
                                    </div>
                                    <div class="flex items-center mt-2">
                                        <span class="mr-2">üìÑ</span><span class="text-yellow-300">script.js</span> <span class="text-gray-400">// A "intelig√™ncia" (intera√ß√£o) da sua tela NUI</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <p class="mt-4">Cada um desses arquivos tem um papel vital e espec√≠fico:</p>
                        <ul class="list-disc list-inside space-y-2 text-gray-700 mt-4">
                            <li><strong>`fxmanifest.lua` (O Manual):</strong> Ele √© o primeiro a ser lido pelo FiveM. Diz quais arquivos (`Lua`, `HTML`, `CSS`, `JS`) seu recurso usa e se eles s√£o para o `cliente` ou `servidor`. Sem ele, o FiveM n√£o sabe que seu recurso existe!</li>
                            <li><strong>`client.lua` (O Ajudante Individual):</strong> Este script roda no computador de **cada jogador**. Ele lida com o que o jogador v√™ e faz, como mostrar/esconder a `NUI`, verificar se o jogador apertou uma tecla, e √© a ponte principal entre a `NUI` e o `servidor`.</li>
                            <li><strong>`server.lua` (O Gerente Central):</strong> Este script roda **apenas uma vez** no computador do servidor. Ele √© respons√°vel por coisas que afetam todos os jogadores (como economias, invent√°rios globais), e por opera√ß√µes que precisam ser super seguras, tipo mexer no banco de dados.</li>
                            <li><strong>`html/` (A Caixa de Ferramentas Visuais):</strong> Esta √© uma pasta especial. Tudo o que sua interface `NUI` precisa (o `HTML`, `CSS`, `JavaScript`, talvez imagens e fontes) deve estar aqui dentro. O FiveM "`serve`" esses arquivos para o jogador quando a `NUI` √© ativada.</li>
                            <li><strong>`index.html` (A Estrutura da Tela):</strong> √â a p√°gina `HTML` que voc√™ vai ver. Ela define os "blocos" da sua interface: bot√µes, textos, caixas. √â o esqueleto.</li>
                            <li><strong>`style.css` (A Beleza da Tela):</strong> Este arquivo `CSS` d√° o "estilo" ao seu `index.html`. Ele define as cores, fontes, tamanhos, e como as coisas ficam organizadas na tela. √â a "roupa" da sua interface!</li>
                            <li><strong>`script.js` (A Intelig√™ncia da Tela):</strong> Este √© o `JavaScript` da sua `NUI`. Ele faz a interface ser interativa: quando voc√™ clica em um bot√£o, o `script.js` √© quem reage e pode enviar uma mensagem para o `client.lua`. Ele tamb√©m recebe mensagens do `client.lua` para atualizar a tela.</li>
                        </ul>
                        <p class="mt-4">Seguindo essa organiza√ß√£o, seu projeto ser√° f√°cil de entender, mesmo para um iniciante, e muito mais simples de expandir no futuro!</p>
                    </article>
                </section>

                <section id="s4" class="mb-16 scroll-mt-24">
                    <h2 class="text-3xl font-bold border-b border-gray-300 pb-2 mb-4">4. Criando o Back-end em Lua: O C√©rebro do seu Script</h2>
                    <p class="text-lg text-gray-600 mb-6">O "back-end" √© a parte da l√≥gica que faz seu script funcionar. No FiveM, isso √© escrito em `Lua`. Vamos criar os arquivos que formam essa parte do seu recurso, focando no essencial para sua primeira integra√ß√£o!</p>
                    
                    <article id="s4_1" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">4.1 O Arquivo `fxmanifest.lua`: Apresentando Seu Recurso ao FiveM</h3>
                        <p class="mb-4">Lembra do "manual de instru√ß√µes"? √â ele! O `fxmanifest.lua` √© o primeiro arquivo que o FiveM l√™ quando carrega seu recurso. Ele diz ao servidor o que existe na sua pasta e como ele deve carregar tudo.</p>
                        <div class="code-block">
                            <pre><code class="language-lua">-- Define a vers√£o do manifesto. 'cerulean' √© a vers√£o mais atual.
fx_version 'cerulean'
-- Diz que este recurso √© para o jogo GTA V.
games { 'gta5' }

-- Informa√ß√µes b√°sicas sobre seu recurso.
author 'Seu Nome'
description 'Meu primeiro script de integra√ß√£o NUI!'
version '1.0.0'

-- Declara qual script Lua roda no lado do cliente (no PC do jogador).
client_script 'client.lua'

-- Declara qual script Lua roda no lado do servidor (no PC do servidor).
server_script 'server.lua'

-- MUITO IMPORTANTE para NUI: Diz qual arquivo HTML √© sua interface.
ui_page 'html/index.html'

-- Lista TODOS os arquivos da sua pasta 'html' que o FiveM precisa enviar para o jogador.
-- Se um arquivo da NUI n√£o estiver aqui, ele n√£o vai funcionar!
files {
    'html/index.html',
    'html/style.css',
    'html/script.js'
}
</code></pre>
                            <div class="explanation-area mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-gray-700 hidden">
                                <p class="font-semibold mb-2">Explica√ß√£o da API Gemini:</p>
                                <div class="explanation-content"></div>
                                <div class="loading-spinner text-center mt-2 hidden">
                                    <div class="animate-spin inline-block w-4 h-4 border-2 border-current border-t-transparent text-blue-600 rounded-full" role="status"></div>
                                    <span class="ml-2">Carregando explica√ß√£o...</span>
                                </div>
                            </div>
                        </div>
                        <p class="mt-4">
                            <strong>Explica√ß√£o linha a linha do `fxmanifest.lua`:</strong><br>
                            <ul class="list-disc list-inside ml-4">
                                <li>`fx_version 'cerulean'` e `games { 'gta5' }`: S√£o como cabe√ßalhos que informam a vers√£o do manifesto e para qual jogo o recurso √©. √â padr√£o.</li>
                                <li>`author`, `description`, `version`: Campos para voc√™ descrever seu script.</li>
                                <li>`client_script 'client.lua'`: Diz ao FiveM: "Ei, carrega o arquivo `client.lua` no computador de cada jogador!". √â onde a l√≥gica que interage com a `NUI` vai morar.</li>
                                <li>`server_script 'server.lua'`: Diz ao FiveM: "Carrega o arquivo `server.lua` apenas uma vez no computador do servidor!". √â onde a l√≥gica segura e geral vai morar.</li>
                                <li>`ui_page 'html/index.html'`: **Essa linha √© a chave para a `NUI`!** Ela diz ao FiveM que sua interface web principal est√° no arquivo `index.html` dentro da pasta `html`.</li>
                                <li>`files { ... }`: Esta √© uma lista super importante! Voc√™ deve listar **todos os arquivos (`HTML`, `CSS`, `JavaScript`, imagens, fontes, etc.)** que est√£o dentro da sua pasta `html/` e que a sua interface `NUI` vai usar. Se voc√™ esquecer um arquivo aqui, a `NUI` n√£o vai conseguir encontr√°-lo e dar√° erro!</li>
                            </ul>
                        </p>
                    </article>

                    <article id="s4_2" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">4.2 Scripts do Lado do Cliente (`client.lua`): O Ajudante do Jogador</h3>
                        <p class="mb-4">O `client.lua` roda no computador de cada jogador. √â o seu elo de liga√ß√£o entre o jogo, a `NUI` e, indiretamente, o `servidor`. Ele vai cuidar de mostrar/esconder a interface e de enviar/receber mensagens dela.</p>
                        <div class="code-block">
                            <pre><code class="language-lua">-- Uma vari√°vel simples para saber se a NUI est√° aberta ou fechada.
local NUIAberta = false

-- Fun√ß√£o para mostrar a interface NUI.
function MostrarNUI()
    NUIAberta = true
    -- Diz ao FiveM para dar foco √† NUI e mostrar o cursor do mouse.
    SetNuiFocus(true, true) 
    -- Envia uma mensagem para o JavaScript da NUI. O JS vai "ouvir" essa mensagem e mostrar a tela.
    SendNUIMessage({ acao = 'mostrar' })
end

-- Fun√ß√£o para esconder a interface NUI.
function EsconderNUI()
    NUIAberta = false
    -- Tira o foco da NUI e esconde o cursor, devolvendo o controle ao jogo.
    SetNuiFocus(false, false)
    -- Envia uma mensagem para o JavaScript da NUI. O JS vai "ouvir" essa mensagem e esconder a tela.
    SendNUIMessage({ acao = 'esconder' })
end

-- Este √© um 'ouvinte' para mensagens que v√™m da sua NUI (do JavaScript).
-- O nome 'cliqueDoBotao' aqui deve ser o mesmo que o JavaScript vai "chamar".
RegisterNUICallback('cliqueDoBotao', function(dadosRecebidos, funcaoResposta)
    -- Quando a NUI envia uma mensagem, ela aparece no console do jogador (aperte F8 no jogo).
    print('Bot√£o clicado na NUI! ID do bot√£o: ' .. dadosRecebidos.idDoBotao)
    
    -- Exemplo: Se o bot√£o clicado fosse um bot√£o de "comprar", 
    -- aqui voc√™ avisaria o servidor:
    -- TriggerServerEvent('meuRecurso:comprarItem', dadosRecebidos.idDoItem)

    -- A 'funcaoResposta' √© como voc√™ manda um "ok" ou "deu erro" de volta para o JavaScript.
    funcaoResposta('ok') -- Envia 'ok' de volta para a NUI.
end)

-- Este √© outro 'ouvinte' para quando a NUI quer ser fechada (tipo, se o jogador apertar ESC na NUI).
RegisterNUICallback('escape', function(_, funcaoResposta)
    EsconderNUI() -- Chama a fun√ß√£o para esconder a NUI.
    funcaoResposta('ok') -- Avisa a NUI que deu certo.
end)

-- Registra um comando que voc√™ pode digitar no chat do jogo (ex: /abrirtela).
RegisterCommand('abrirtela', function()
    if not NUIAberta then -- S√≥ abre se j√° n√£o estiver aberta.
        MostrarNUI()
    end
end, false) -- 'false' significa que qualquer jogador pode usar este comando.

-- Cria uma "tarefa" que roda o tempo todo no jogo.
Citizen.CreateThread(function()
    while true do
        Citizen.Wait(0) -- MUITO IMPORTANTE: Essa linha faz o script "respirar" para n√£o travar o jogo.
        
        -- Verifica se a NUI est√° aberta E se o jogador soltou a tecla ESC (c√≥digo 322).
        if NUIAberta and IsControlJustReleased(0, 322) then
            EsconderNUI() -- Se sim, esconde a NUI.
        end
    end
end)
</code></pre>
                            <div class="explanation-area mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-gray-700 hidden">
                                <p class="font-semibold mb-2">Explica√ß√£o da API Gemini:</p>
                                <div class="explanation-content"></div>
                                <div class="loading-spinner text-center mt-2 hidden">
                                    <div class="animate-spin inline-block w-4 h-4 border-2 border-current border-t-transparent text-blue-600 rounded-full" role="status"></div>
                                    <span class="ml-2">Carregando explica√ß√£o...</span>
                                </div>
                            </div>
                        </div>
                        <p class="mt-4">
                            <strong>Explica√ß√£o linha a linha do `client.lua`:</strong><br>
                            <ul class="list-disc list-inside ml-4">
                                <li>`local NUIAberta = false`: Uma pequena "bandeira" que guardamos para saber se a sua tela `NUI` est√° vis√≠vel ou n√£o. Come√ßa como `false` (fechada).</li>
                                <li>`function MostrarNUI()`: Essa fun√ß√£o √© o que voc√™ chama quando quer que sua tela `NUI` apare√ßa.
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`NUIAberta = true`: Liga nossa "bandeira" para `true`.</li>
                                        <li>`SetNuiFocus(true, true)`: Uma fun√ß√£o especial do FiveM. O primeiro `true` diz: "O jogador vai interagir com a `NUI` agora". O segundo `true` diz: "Mostra o mouse para ele poder clicar!".</li>
                                        <li>`SendNUIMessage({ acao = 'mostrar' })`: Essa √© a mensagem que o `Lua` envia para o `JavaScript` da sua `NUI`. `acao = 'mostrar'` √© um recado para a `NUI` saber o que fazer.</li>
                                    </ul>
                                </li>
                                <li>`function EsconderNUI()`: O oposto de `MostrarNUI()`. Ela esconde a `NUI`.
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`NUIAberta = false`: Desliga nossa "bandeira".</li>
                                        <li>`SetNuiFocus(false, false)`: Tira o foco da `NUI` e esconde o cursor, devolvendo o controle ao jogo.</li>
                                        <li>`SendNUIMessage({ acao = 'esconder' })`: Manda um recado para a `NUI` se esconder.</li>
                                    </ul>
                                </li>
                                <li>`RegisterNUICallback('cliqueDoBotao', function(dadosRecebidos, funcaoResposta) ... end)`: **Essa √© a ponte do `NUI` para o `Lua`!** √â uma fun√ß√£o especial que fica "escutando" por mensagens que v√™m do `JavaScript` da `NUI`.
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`'cliqueDoBotao'`: √â o nome que voc√™ d√° para esse "canal de comunica√ß√£o". O `JavaScript` vai usar esse nome para mandar a mensagem.</li>
                                        <li>`dadosRecebidos`: √â a informa√ß√£o que o `JavaScript` te enviou (tipo, qual bot√£o foi clicado).</li>
                                        <li>`funcaoResposta`: √â uma fun√ß√£o que voc√™ pode usar para mandar um recado de volta para o `JavaScript`.</li>
                                        <li>`print(...)`: Serve para voc√™ ver mensagens no console do FiveM (aperte `F8` no jogo para ver). Super √∫til para depurar!</li>
                                        <li>`TriggerServerEvent(...)`: (Comentado no exemplo para simplificar) √â como voc√™ "passa a bola" para o `servidor`. Se o que a `NUI` fez precisa de uma a√ß√£o geral ou segura (como tirar dinheiro do jogador), o `client.lua` avisa o `server.lua`.</li>
                                    </ul>
                                </li>
                                <li>`RegisterNUICallback('escape', function(_, funcaoResposta) ... end)`: Um `callback` espec√≠fico para quando a `NUI` quer se fechar, geralmente quando o jogador aperta `ESC`.
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`EsconderNUI()`: Chama a fun√ß√£o para esconder a `NUI`.</li>
                                        <li>`funcaoResposta('ok')`: Avisa a `NUI` que deu certo.</li>
                                    </ul>
                                </li>
                                <li>`RegisterCommand('abrirtela', function() ... end, false)`: Registra um comando que voc√™ pode digitar no chat do jogo (ex: `/abrirtela`).
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`if not NUIAberta then MostrarNUI() end`: S√≥ abre se j√° n√£o estiver aberta.</li>
                                        <li>`false`: Significa que qualquer jogador pode usar este comando. Se fosse `true`, s√≥ admins (com permiss√£o) poderiam.</li>
                                    </ul>
                                </li>
                                <li>`Citizen.CreateThread(function() ... end)`: Cria uma "tarefa" que roda o tempo todo no jogo.
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`while true do`: Cria um loop infinito, para a tarefa nunca parar.</li>
                                        <li>`Citizen.Wait(0)`: **MUITO IMPORTANTE:** Essa linha faz o script "`respirar`" para n√£o travar o jogo. Ele libera a `CPU` para outras tarefas. Sem isso, seu jogo pode congelar!</li>
                                        <li>`if NUIAberta and IsControlJustReleased(0, 322) then EsconderNUI() end`: Verifica se a `NUI` est√° aberta E se o jogador soltou a tecla `ESC` (c√≥digo `322`). Se sim, esconde a `NUI`. O `0` √© para o controle do mouse/teclado.</li>
                                    </ul>
                                </li>
                            </ul>
                        </p>
                    </article>

                     <article id="s4_3" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">4.3 Scripts do Lado do Servidor (`server.lua`): O Gerente Geral</h3>
                        <p class="mb-4">O `server.lua` √© o "c√©rebro central" do seu servidor. Ele roda apenas uma vez, no computador que hospeda o jogo. Sua principal responsabilidade √© lidar com a l√≥gica que afeta todos os jogadores, e com a√ß√µes que precisam ser super seguras, como mexer em dinheiro, invent√°rio ou banco de dados.</p>
                        <p class="mb-4">Ele se comunica com os `client.lua`s de cada jogador usando "`eventos de rede`".</p>
                        <div class="code-block">
                            <pre><code class="language-lua">-- Primeiro, registramos um evento que o client.lua pode "disparar" para o servidor.
-- Pense nisso como "abrindo um canal" para receber mensagens do cliente.
-- O nome 'meuRecurso:fazerAlgoNoServidor' √© um exemplo.
RegisterNetEvent('meuRecurso:fazerAlgoNoServidor')

-- Depois, dizemos o que fazer quando esse evento √© "ouvido".
AddEventHandler('meuRecurso:fazerAlgoNoServidor', function(dadosQueVieramDoCliente)
    -- 'source' √© uma vari√°vel especial que diz QUAL jogador disparou este evento.
    local jogadorID = source 
    
    print('Mensagem recebida do jogador ' .. jogadorID .. ' no servidor!')
    print('Dados do cliente: ' .. json.encode(dadosQueVieramDoCliente)) -- Mostra os dados recebidos.

    -- Exemplo SIMPLES de l√≥gica no servidor:
    -- Imagine que o cliente pediu para "dar" um item.
    -- O servidor valida se a quantidade √© v√°lida e ent√£o d√° o item.
    if dadosQueVieramDoCliente.item == 'agua' and dadosQueVieramDoCliente.quantidade > 0 then
        -- Esta linha usaria uma fun√ß√£o do QBcore para dar um item.
        -- QBCore.Functions.GetPlayer(jogadorID).Functions.AddItem('agua', dadosQueVieramDoCliente.quantidade)
        print('Servidor: Jogador ' .. jogadorID .. ' recebeu ' .. dadosQueVieramDoCliente.quantidade .. ' de √°gua.')
        
        -- Avisa o jogador de volta que deu certo!
        -- TriggerClientEvent('QBCore:Notify', jogadorID, 'Voc√™ recebeu √°gua!', 'success')
        TriggerClientEvent('chat:addMessage', jogadorID, {
            color = { 0, 255, 0 }, -- Cor verde
            args = { '[Servidor]', 'Voc√™ recebeu √°gua!' }
        })
    else
        print('Servidor: Tentativa inv√°lida de dar item ao jogador ' .. jogadorID .. '.')
        -- Avisa o jogador que algo deu errado.
        TriggerClientEvent('chat:addMessage', jogadorID, {
            color = { 255, 0, 0 }, -- Cor vermelha
            args = { '[Servidor]', 'Erro na transa√ß√£o. Tente novamente.' }
        })
    end
end)

-- Voc√™ tamb√©m pode criar comandos que s√≥ funcionam no servidor (e para admins, por exemplo).
RegisterCommand('avisartodos', function(source, args, rawCommand)
    -- Se source == 0, o comando foi digitado no console do servidor.
    if source == 0 then
        local mensagem = table.concat(args, ' ') -- Junta as palavras da mensagem.
        TriggerClientEvent('chat:addMessage', -1, { -- -1 envia para TODOS os jogadores.
            color = { 255, 165, 0 }, -- Cor laranja
            args = { '[AN√öNCIO DO SERVIDOR]', mensagem }
        })
        print('Servidor: An√∫ncio enviado para todos: ' .. mensagem)
    else
        -- Se n√£o √© do console, √© um jogador. Apenas admins devem usar isso.
        -- Esta linha usaria uma fun√ß√£o do QBcore para checar permiss√£o de admin.
        -- if QBCore.Functions.GetPlayer(source).Functions.HasPermission('admin') then
        TriggerClientEvent('chat:addMessage', source, {
            color = { 255, 0, 0 },
            args = { '[Servidor]', 'Voc√™ n√£o tem permiss√£o para usar este comando.' }
        })
        print('Servidor: Jogador ' .. source .. ' tentou usar comando de admin sem permiss√£o.')
        -- end
    end
end, true) -- 'true' significa que este comando √© RESTRITO (s√≥ admins por padr√£o).
</code></pre>
                            <div class="explanation-area mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-gray-700 hidden">
                                <p class="font-semibold mb-2">Explica√ß√£o da API Gemini:</p>
                                <div class="explanation-content"></div>
                                <div class="loading-spinner text-center mt-2 hidden">
                                    <div class="animate-spin inline-block w-4 h-4 border-2 border-current border-t-transparent text-blue-600 rounded-full" role="status"></div>
                                    <span class="ml-2">Carregando explica√ß√£o...</span>
                                </div>
                            </div>
                        </div>
                        <p class="mt-4">
                            <strong>Explica√ß√£o linha a linha do `server.lua`:</strong><br>
                            <ul class="list-disc list-inside ml-4">
                                <li>`RegisterNetEvent('meuRecurso:fazerAlgoNoServidor')`: Essa linha "`registra`" um evento de rede. Significa que o servidor est√° pronto para "`ouvir`" quando um `client.lua` dispara um evento com esse nome. Pense nisso como ligar um telefone para que as liga√ß√µes possam ser recebidas.</li>
                                <li>`AddEventHandler('meuRecurso:fazerAlgoNoServidor', function(dadosQueVieramDoCliente) ... end)`: Aqui, definimos o que acontece quando o evento `meuRecurso:fazerAlgoNoServidor` √© "`ouvido`".
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`dadosQueVieramDoCliente`: S√£o as informa√ß√µes que o `client.lua` enviou junto com o evento.</li>
                                        <li>`local jogadorID = source`: `source` √© uma vari√°vel m√°gica no `server.lua` que, em eventos recebidos do cliente, **sempre diz qual jogador** disparou o evento. Isso √© crucial para saber quem est√° interagindo com o servidor!</li>
                                        <li>`print(...)`: Novamente, para depurar. Voc√™ ver√° essas mensagens no console do seu `FXServer`.</li>
                                        <li>`json.encode(dadosQueVieramDoCliente)`: Uma fun√ß√£o √∫til para transformar uma tabela `Lua` em uma `string JSON`, o que ajuda a ver os dados de forma leg√≠vel no console.</li>
                                        <li>`if dadosQueVieramDoCliente.item == 'agua' ...`: Este √© um exemplo de **valida√ß√£o de dados no servidor**. Mesmo que o cliente diga que quer "dar √°gua", o servidor *sempre* verifica se √© uma a√ß√£o v√°lida. **Sempre valide tudo no servidor para seguran√ßa!**</li>
                                        <li>`TriggerClientEvent('chat:addMessage', jogadorID, { ... })`: Esta √© uma forma simples de enviar uma mensagem para o chat do jogo de um jogador espec√≠fico. `-1` como `id` enviaria para todos. √â uma forma de dar feedback ao jogador. (O `QBCore:Notify` √© uma notifica√ß√£o visual mais bonita do `QBcore`, mas o `chat:addMessage` √© mais b√°sico e universal).</li>
                                    </ul>
                                </li>
                                <li>`RegisterCommand('avisartodos', function(source, args, rawCommand) ... end, true)`: Cria um comando que voc√™ pode digitar no chat do jogo.
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`source == 0`: Se o `source` √© `0`, significa que o comando foi digitado no console do servidor.</li>
                                        <li>`local mensagem = table.concat(args, ' ')`: Junta todas as partes da mensagem que voc√™ digitou no chat em uma √∫nica `string`.</li>
                                        <li>`TriggerClientEvent('chat:addMessage', -1, { ... })`: Envia uma mensagem para o chat de **TODOS** os jogadores (`-1` significa todos).</li>
                                        <li>`true` no final de `RegisterCommand`: Torna este comando **restrito**. Por padr√£o, apenas administradores com permiss√£o podem us√°-lo. **√â uma boa pr√°tica para comandos poderosos!**</li>
                                    </ul>
                                </li>
                            </ul>
                        </p>
                        <p class="mt-4">O `server.lua` √© o seu guardi√£o e central de controle. Ele garante que a l√≥gica principal funcione de forma justa e segura para todos os jogadores.</p>
                    </article>
                </section>
                
                <section id="s5" class="mb-16 scroll-mt-24">
                    <h2 class="text-3xl font-bold border-b border-gray-300 pb-2 mb-4">5. Desenvolvendo a Interface NUI (Front-end): A Beleza da Sua Tela</h2>
                    <p class="text-lg text-gray-600 mb-6">Agora que temos o "c√©rebro" em `Lua`, √© hora de criar a "cara" do seu script! A `NUI` √© onde a magia visual acontece, usando `HTML` para a estrutura, `CSS` para a beleza e `JavaScript` para a intelig√™ncia. Vamos construir sua primeira interface interativa!</p>

                    <article id="s5_1" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">5.1 Criando a P√°gina HTML (`index.html`): O Esqueleto da sua Tela</h3>
                        <p class="mb-4">O `index.html` √© a p√°gina principal da sua interface `NUI`. Ele define todos os elementos que o jogador ver√°, como textos, bot√µes e caixas. Pense nele como o esqueleto do seu site ou aplicativo.</p>
                         <div class="code-block">
                            <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="pt"&gt; &lt;!-- Indica que o idioma da p√°gina √© Portugu√™s --&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt; &lt;!-- Garante que caracteres especiais (como acentos) apare√ßam certo --&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;!-- MUITO IMPORTANTE para a tela se ajustar ao tamanho do dispositivo (celular, tablet, PC) --&gt;
    &lt;title&gt;Minha Primeira NUI&lt;/title&gt; &lt;!-- O t√≠tulo da sua p√°gina (n√£o aparece no jogo, mas √© √∫til para depura√ß√£o) --&gt;
    &lt;link rel="stylesheet" href="style.css"&gt; &lt;!-- Conecta seu arquivo CSS para deixar a p√°gina bonita --&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- Este √© o principal "cont√™iner" da sua interface. Come√ßa escondido com a classe 'nui-hidden'. --&gt;
    &lt;div id="container" class="nui-hidden"&gt; 
        &lt;h1 class="text-2xl font-bold text-white mb-4"&gt;Bem-vindo(a)!&lt;/h1&gt;
        &lt;p class="text-gray-300 mb-6"&gt;Clique para ver a m√°gica da integra√ß√£o!&lt;/p&gt;
        
        &lt;!-- Este √© o bot√£o que vamos usar para interagir --&gt;
        &lt;button id="btnInteragir" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"&gt;
            Interagir com o Back-end
        &lt;/button&gt;
        
        &lt;!-- Este √© o bot√£o para fechar a interface --&gt;
        &lt;button id="btnClose" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded ml-4"&gt;
            Fechar NUI
        &lt;/button&gt;
        
        &lt;!-- Esta div vai mostrar mensagens de feedback --&gt;
        &lt;div id="mensagemFeedback" class="mt-4 text-sm text-yellow-300"&gt;&lt;/div&gt;
    &lt;/div&gt;
    
    &lt;!-- Conecta seu arquivo JavaScript. Coloque no final do body para o HTML carregar primeiro. --&gt;
    &lt;script src="script.js"&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>
                            <div class="explanation-area mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-gray-700 hidden">
                                <p class="font-semibold mb-2">Explica√ß√£o da API Gemini:</p>
                                <div class="explanation-content"></div>
                                <div class="loading-spinner text-center mt-2 hidden">
                                    <div class="animate-spin inline-block w-4 h-4 border-2 border-current border-t-transparent text-blue-600 rounded-full" role="status"></div>
                                    <span class="ml-2">Carregando explica√ß√£o...</span>
                                </div>
                            </div>
                        </div>
                        <p class="mt-4">
                            <strong>Explica√ß√£o linha a linha do `index.html`:</strong><br>
                            <ul class="list-disc list-inside ml-4">
                                <li>`<!DOCTYPE html>`, `<html>`, `<head>`, `<body>`: S√£o a estrutura b√°sica de qualquer p√°gina `HTML`. N√£o se preocupe muito com elas por agora, s√£o o padr√£o.</li>
                                <li>`<meta charset="UTF-8">`: √â importante para que todos os caracteres (como "`√ß`" ou "`√£`") apare√ßam corretamente na sua tela.</li>
                                <li>`<meta name="viewport" content="width=device-width, initial-scale=1.0">`: **Essa linha √© fundamental para que sua `NUI` se ajuste a diferentes telas!** Sem ela, sua interface pode ficar estranha no celular ou em telas grandes.</li>
                                <li>`<title>Minha Primeira NUI</title>`: O texto que aparece na aba do navegador quando voc√™ abre a p√°gina. √ötil para organizar suas janelas de depura√ß√£o.</li>
                                <li>`<link rel="stylesheet" href="style.css">`: Essa linha "`conecta`" seu arquivo `style.css` (onde est√° o estilo) com esta p√°gina `HTML`.</li>
                                <li>`<div id="container" class="nui-hidden">`: Este √© o principal "`bloco`" da sua interface. Tudo o que voc√™ quer que apare√ßa na tela vai dentro dele.
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`id="container"`: √â um "`nome`" √∫nico que damos a esse bloco. O `JavaScript` vai usar esse nome para encontrar o bloco e mostrar/esconder a interface.</li>
                                        <li>`class="nui-hidden"`: √â um "`sobrenome`" que damos a ele. Essa classe ser√° usada pelo `CSS` para que a tela comece **escondida** e pelo `JavaScript` para alternar a visibilidade.</li>
                                    </ul>
                                </li>
                                <li>`<h1>`, `<p>`: S√£o tags `HTML` para t√≠tulos e par√°grafos. Usamos algumas classes do `Tailwind CSS` (como `text-2xl`, `font-bold`, `text-white`) para dar um estilo r√°pido.</li>
                                <li>`<button id="btnInteragir">`: Um bot√£o interativo!
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`id="btnInteragir"`: Outro "`nome`" √∫nico para o `JavaScript` saber qual bot√£o foi clicado.</li>
                                        <li>As classes do `Tailwind CSS` (como `bg-blue-600`, `hover:bg-blue-700`, `rounded`) servem para deix√°-lo com um visual bonito e moderno.</li>
                                    </ul>
                                </li>
                                <li>`<div id="mensagemFeedback">`: Uma √°rea onde podemos mostrar mensagens para o jogador, tipo "`Sua a√ß√£o foi um sucesso!`".</li>
                                <li>`<script src="script.js"></script>`: Essa linha "`conecta`" seu arquivo `script.js` (onde est√° a intelig√™ncia) com esta p√°gina `HTML`. √â importante que ela esteja no final do `<body>`, para garantir que todos os elementos `HTML` j√° existam quando o `JavaScript` tentar manipul√°-los.</li>
                            </ul>
                        </p>
                        <p class="mt-4">Este `HTML` √© o alicerce visual. Com ele, j√° podemos ver onde tudo vai ficar na tela. Agora, vamos deixar ele bonito com o `CSS`!</p>
                    </article>

                    <article id="s5_2" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">5.2 Estilizando com CSS (`style.css`): A Roupa da Sua Tela</h3>
                        <p class="mb-4">O `style.css` √© onde voc√™ adiciona cores, fontes, tamanhos e define a organiza√ß√£o visual da sua interface. Ele transforma o "esqueleto" `HTML` em algo bonito e funcional. √â a "`roupa`" da sua `NUI`!</p>
                         <div class="code-block">
                            <pre><code class="language-css">/* IMPORTANTE: Isso faz o fundo da NUI ser transparente, para voc√™ ver o jogo por tr√°s! */
body {
    margin: 0; /* Remove margem padr√£o do body */
    padding: 0; /* Remove preenchimento padr√£o do body */
    background-color: transparent; /* FUNDAMENTAL: Deixa o fundo invis√≠vel */
    font-family: 'Inter', sans-serif; /* Define a fonte para todo o texto */
    color: #ecf0f1; /* Cor do texto padr√£o (um cinza bem clarinho) */
    display: flex; /* Transforma o body em um cont√™iner flex√≠vel */
    justify-content: center; /* Centraliza o conte√∫do horizontalmente */
    align-items: center; /* Centraliza o conte√∫do verticalmente */
    min-height: 100vh; /* Faz com que o body ocupe 100% da altura da tela */
    overflow: hidden; /* Esconde qualquer coisa que vaze da tela, evitando barras de rolagem */
}

/* Essa classe √© usada pelo JavaScript para esconder ou mostrar sua interface */
.nui-hidden {
    display: none !important; /* 'important' garante que essa regra sempre funcione */
}

/* Estilo para o nosso cont√™iner principal (#container) */
#container {
    background: rgba(44, 62, 80, 0.9); /* Fundo cinza escuro semi-transparente */
    padding: 30px; /* Espa√ßamento interno */
    border-radius: 12px; /* Cantos arredondados */
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4); /* Uma sombra leve para dar profundidade */
    text-align: center; /* Alinha o texto ao centro */
    max-width: 500px; /* Limita a largura m√°xima para n√£o ficar grande demais */
    width: 90%; /* Ocupa 90% da largura dispon√≠vel, mas respeita o max-width */
    border: 1px solid rgba(52, 73, 94, 0.7); /* Uma borda sutil */
    
    /* Propriedades para anima√ß√£o de entrada e sa√≠da */
    transform: translateY(20px); /* Come√ßa 20px abaixo da posi√ß√£o final */
    opacity: 0; /* Come√ßa totalmente transparente */
    transition: transform 0.5s ease-out, opacity 0.5s ease-out; /* Anima a transi√ß√£o suavemente em 0.5 segundos */
}

/* Quando a classe 'is-visible' √© adicionada (pelo JS), a interface aparece com anima√ß√£o */
#container.is-visible {
    transform: translateY(0); /* Volta para a posi√ß√£o normal */
    opacity: 1; /* Fica totalmente vis√≠vel */
}

/* Estilos b√°sicos para bot√µes (usaremos as classes do Tailwind diretamente no HTML, mas aqui est√° um exemplo CSS puro) */
button {
    cursor: pointer; /* Muda o cursor para uma m√£ozinha quando passa por cima */
    transition: background-color 0.3s ease, transform 0.2s ease; /* Anima√ß√£o suave para hover/clique */
    outline: none; /* Remove o contorno azul que aparece ao clicar */
}

button:hover {
    transform: translateY(-1px); /* Levanta o bot√£o um pouco no hover */
}

button:active {
    transform: translateY(0); /* Volta para a posi√ß√£o normal ao clicar */
}
</code></pre>
                            <div class="explanation-area mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-gray-700 hidden">
                                <p class="font-semibold mb-2">Explica√ß√£o da API Gemini:</p>
                                <div class="explanation-content"></div>
                                <div class="loading-spinner text-center mt-2 hidden">
                                    <div class="animate-spin inline-block w-4 h-4 border-2 border-current border-t-transparent text-blue-600 rounded-full" role="status"></div>
                                    <span class="ml-2">Carregando explica√ß√£o...</span>
                                </div>
                            </div>
                        </div>
                        <p class="mt-4">
                            <strong>Explica√ß√£o linha a linha do `style.css`:</strong><br>
                            <ul class="list-disc list-inside ml-4">
                                <li>`body { ... }`: Essas regras s√£o para o corpo da sua p√°gina `HTML`, que √© o fundo.
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`margin: 0;` e `padding: 0;`: Removem margens e preenchimentos padr√µes que os navegadores podem adicionar, garantindo um controle total.</li>
                                        <li>`background-color: transparent;`: **Essa √© a linha mais importante aqui!** Ela faz o fundo da sua `NUI` ficar "`invis√≠vel`", permitindo que o jogo (`GTA V`) seja visto por tr√°s. Se voc√™ colocar uma cor aqui, ela vai cobrir a tela do jogo!</li>
                                        <li>`font-family: 'Inter', sans-serif;` e `color: #ecf0f1;`: Definem a fonte padr√£o e a cor do texto para toda a interface.</li>
                                        <li>`display: flex; justify-content: center; align-items: center; min-height: 100vh;`: Um combo m√°gico do `CSS Flexbox`! Ele faz com que o conte√∫do dentro do `<body>` (no nosso caso, o `#container`) seja **centralizado** tanto na horizontal (`justify-content`) quanto na vertical (`align-items`) na tela do jogo. `min-height: 100vh;` garante que ele ocupe a altura total da janela.</li>
                                        <li>`overflow: hidden;`: Garante que n√£o apare√ßam barras de rolagem indesejadas se o conte√∫do for maior que a tela.</li>
                                    </ul>
                                </li>
                                <li>`.nui-hidden { display: none !important; }`: Esta classe √© a "`chave liga/desliga`" da sua interface. Quando ela est√° aplicada, o elemento simplesmente desaparece da tela. O `!important` for√ßa essa regra a ter prioridade.</li>
                                <li>`#container { ... }`: Aqui estilizamos o nosso principal bloco `div` com `id="container"`.
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`background: rgba(44, 62, 80, 0.9);`: Um fundo escuro semi-transparente. O `0.9` √© a opacidade (qu√£o transparente √©).</li>
                                        <li>`padding`, `border-radius`, `box-shadow`, `max-width`, `width`, `border`: S√£o propriedades para controlar o espa√ßamento interno, arredondar cantos, adicionar sombra, e controlar a largura de forma responsiva.</li>
                                        <li>`transform: translateY(20px); opacity: 0; transition: ...;`: Essas linhas s√£o para criar uma **anima√ß√£o suave**! A interface come√ßa um pouco para baixo (`translateY(20px)`) e invis√≠vel (`opacity: 0`), e a `transition` diz que qualquer mudan√ßa nessas propriedades ser√° animada em 0.5 segundos (`ease-out` faz a anima√ß√£o desacelerar no final).</li>
                                    </ul>
                                </li>
                                <li>`#container.is-visible { ... }`: Quando o `JavaScript` adiciona a classe `is-visible` ao `#container`, essas regras s√£o aplicadas:
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`transform: translateY(0);`: Volta para a posi√ß√£o normal (o elemento "sobe" para o lugar certo).</li>
                                        <li>`opacity: 1;`: Fica totalmente vis√≠vel.</li>
                                    </ul>
                                </li>
                                <li>`button { ... }`, `button:hover { ... }`, `button:active { ... }`: Estilos b√°sicos para os bot√µes. O `:hover` √© para quando o mouse passa por cima, e `:active` √© para quando o bot√£o est√° sendo clicado.
                                    <ul class="list-circle list-inside ml-6">
                                        <li>`cursor: pointer;`: Muda o √≠cone do mouse para uma "m√£ozinha" quando ele passa por cima do bot√£o.</li>
                                        <li>`transition: background-color 0.3s ease, transform 0.2s ease;`: Anima suavemente a mudan√ßa de cor de fundo e o movimento do bot√£o.</li>
                                        <li>`outline: none;`: Remove o contorno azul chato que aparece em alguns navegadores quando voc√™ clica no bot√£o.</li>
                                        <li>`transform: translateY(-1px);` (no `:hover`): Levanta o bot√£o um pouco, dando um efeito de "flutuar".</li>
                                        <li>`transform: translateY(0);` (no `:active`): Volta o bot√£o para a posi√ß√£o original quando clicado.</li>
                                    </ul>
                                </li>
                            </ul>
                        </p>
                        <p class="mt-4">Com o `CSS`, nossa tela j√° tem um visual profissional! Agora, vamos faz√™-la reagir aos cliques do jogador com `JavaScript`.</p>
                    </article>
                    
                    <article id="s5_3" class="mb-8 p-6 bg-white rounded-lg shadow-sm scroll-mt-24">
                        <h3 class="text-2xl font-semibold mb-3">5.3 Interatividade com JavaScript (`script.js`): A Intelig√™ncia da Sua Tela</h3>
                        <p class="mb-4">O `script.js` √© onde a m√°gica da intera√ß√£o acontece. Ele √© o "`ouvido`" e a "`voz`" da sua `NUI`. Ele ouve o que o `client.lua` manda, mostra/esconde a tela, e tamb√©m ouve o que o jogador faz (como cliques em bot√µes) para mandar de volta para o `client.lua`.</p>
                         <div class="code-block">
                            <pre><code class="language-javascript">document.addEventListener('DOMContentLoaded', function() {
    // Pegamos os elementos HTML pelos seus IDs para poder mexer neles com JavaScript.
    const container = document.getElementById('container');
    const btnInteragir = document.getElementById('btnInteragir');
    const btnClose = document.getElementById('btnClose');
    const mensagemFeedbackDiv = document.getElementById('mensagemFeedback');

    // Fun√ß√£o para mostrar a NUI com a anima√ß√£o suave (adiciona a classe 'is-visible').
    function mostrarNUI() {
        container.classList.remove('nui-hidden'); // Remove a classe que esconde o elemento
        // Pequeno atraso para garantir que o CSS entenda que a classe foi removida antes de adicionar a pr√≥xima.
        setTimeout(() => container.classList.add('is-visible'), 10); 
        mensagemFeedbackDiv.textContent = ''; // Limpa qualquer mensagem antiga ao abrir a NUI.
    }

    // Fun√ß√£o para esconder a NUI com a anima√ß√£o suave (remove a classe 'is-visible' e adiciona 'nui-hidden').
    function esconderNUI() {
        container.classList.remove('is-visible'); // Remove a classe que ativa a anima√ß√£o
        // Espera um pouco (500ms) para a anima√ß√£o de sa√≠da terminar antes de esconder totalmente o elemento.
        setTimeout(() => container.classList.add('nui-hidden'), 500); 
    }

    // Este √© o 'ouvinte' principal! Ele espera por mensagens que v√™m do Lua (do client.lua).
    // As mensagens s√£o enviadas pelo Lua usando SendNUIMessage().
    window.addEventListener('message', function(evento) {
        const dadosRecebidos = evento.data; // A mensagem que o Lua enviou est√° aqui!

        if (dadosRecebidos.acao === 'mostrar') {
            mostrarNUI(); // Se a a√ß√£o √© 'mostrar', chamamos nossa fun√ß√£o para exibir a NUI.
        } else if (dadosRecebidos.acao === 'esconder') {
            esconderNUI(); // Se a a√ß√£o √© 'esconder', chamamos nossa fun√ß√£o para ocultar a NUI.
        } else if (dadosRecebidos.acao === 'atualizarFeedback') {
            // Se o Lua quer atualizar uma mensagem na tela, ele envia esta a√ß√£o.
            mensagemFeedbackDiv.textContent = dadosRecebidos.mensagem; // Atualiza o texto.
            mensagemFeedbackDiv.style.color = dadosRecebidos.cor || '#fff'; // Define a cor, se enviada.
        }
    });

    // Adiciona um 'ouvinte de clique' ao bot√£o 'btnInteragir'.
    btnInteragir.addEventListener('click', function() {
        // Quando o bot√£o √© clicado, enviamos uma mensagem para o Lua (client.lua) usando fetch().
        // A URL √© constru√≠da com o nome do seu recurso e o nome do 'callback' (cliqueDoBotao) que o Lua est√° esperando.
        fetch(`https://${GetParentResourceName()}/cliqueDoBotao`, {
            method: 'POST', // Usamos POST para enviar dados ou dizer ao Lua para fazer algo.
            headers: {
                'Content-Type': 'application/json; charset=UTF-8' // Diz ao Lua que estamos enviando JSON.
            },
            // Converte o objeto JavaScript em uma string JSON para enviar ao Lua.
            body: JSON.stringify({ 
                idDoBotao: 'btnInteragir', 
                valorAleatorio: Math.random() // Um exemplo de dado que podemos enviar.
            }) 
        })
        .then(resposta => resposta.json()) // Espera que a resposta do Lua seja JSON e a converte.
        .then(dadosDoLua => {
            // 'dadosDoLua' √© a resposta que o Lua enviou de volta (pela 'funcaoResposta').
            console.log('Lua respondeu:', dadosDoLua); // Exibe no console do navegador (F12).
            mensagemFeedbackDiv.textContent = `Lua respondeu: "${dadosDoLua.status}"`; // Mostra na tela.
            mensagemFeedbackDiv.style.color = '#a7f3d0'; // Cor verde para sucesso.
        })
        .catch(erro => {
            // Se algo der errado na comunica√ß√£o, isso ser√° capturado aqui.
            console.error('Erro ao enviar mensagem para Lua:', erro);
            mensagemFeedbackDiv.textContent = 'Erro ao se comunicar com o back-end.';
            mensagemFeedbackDiv.style.color = '#f87171'; // Cor vermelha para erro.
        });
    });

    // Adiciona um 'ouvinte de clique' ao bot√£o 'btnClose'.
    btnClose.addEventListener('click', function() {
        // Envia uma mensagem para o Lua dizendo que a NUI quer ser fechada.
        fetch(`https://${GetParentResourceName()}/escape`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json; charset=UTF-8' },
            body: JSON.stringify({}) // N√£o precisamos enviar dados espec√≠ficos para fechar.
        });
    });

    // Opcional: Voc√™ pode adicionar um ouvinte para a tecla ESC aqui tamb√©m,
    // mas o client.lua j√° faz isso de forma mais robusta para o jogo.
    document.addEventListener('keydown', function(eventoTeclado) {
        if (eventoTeclado.key === 'Escape') {
            fetch(`https://${GetParentResourceName()}/escape`, {
                method: 'POST',
                headers: { 'Content-Type': 'application/json; charset=UTF-8' },
                body: JSON.stringify({})
            });
        }
    });
});
</code></pre>
                            <div class="explanation-area mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-gray-700 hidden">
                                <p class="font-semibold mb-2">Explica√ß√£o da API Gemini:</p>
                                <div class="explanation-content"></div>
                                <div class="loading-spinner text-center mt-2 hidden">
                                    <div class="animate-spin inline-block w-4 h-4 border-2 border-current border-t-transparent text-blue-600 rounded-full" role="status"></div>
                                    <span class="ml-2">Carregando explica√ß√£o...</span>
                                </div>
                            </div>
                        </div>
                        <p class="mt-4">
                            <strong>Explica√ß√£o linha a linha do `script.js`:</strong><br>
                            <ul class="list-disc list-inside ml-4">
                                <li>`document.addEventListener('DOMContentLoaded', function() { ... })`: **Sempre coloque seu c√≥digo JavaScript principal dentro disso!** Ele garante que todo o `HTML` da sua p√°gina j√° foi carregado e est√° pronto para ser manipulado pelo `JavaScript`. Se o `JavaScript` tentar mexer em algo que ainda n√£o exi